# 更新日志

本项目遵循[语义化版本](https://semver.org/lang/zh-CN/)规范。

格式基于[Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
版本号遵循[语义化版本](https://semver.org/lang/zh-CN/)。

## [Unreleased]

### 待规划
- 性能进一步优化
- 更多格式化选项
- 用户界面改进

---

## [v1.3.0] - 2025-12-22

### 🚀 构建系统优化
- **ZIP构建流程优化**: 改进ZIP文件创建逻辑，先重命名文件夹为简洁名称再压缩，避免时间戳困扰
- **用户体验提升**: 添加清晰的用户提示信息，显示解压后的文件夹名称
- **安装指导完善**: 完善安装说明，让用户更容易理解文件夹结构

### ⚡ 性能与体验增强
- **大JSON展示优化**: 增强大JSON展示与性能控制
- **大文件处理页面**: 新增专门的大JSON文件处理页面，避免因JSON过大导致的浏览器卡顿问题
- **智能文件处理**: 为大JSON显示添加警告提示和实用控制按钮（复制原文、全选、滚动定位）

### 🔧 技术改进
- **渲染优化**: 专门处理大JSON文件的渲染逻辑
- **错误处理**: 替换原有的错误提示为更友好的大文件展示方案

---

## [v1.2.0] - 2025-12-19

### 🔧 开发流程改进
- **GitHub CI**: 添加GitHub持续集成支持
- **构建脚本修复**: 修复build.sh脚本中的问题

### 🎨 界面与交互升级
- **图标系统重构**: 从favicon.ico改为多尺寸PNG图标 + 简化SVG图标
- **扩展功能增强**: 添加background service worker支持扩展图标点击功能
- **缩进引导**: 添加JSON结构可视化的缩进引导线，提升代码可读性

### 📄 选项页面功能
- **独立格式化页面**: 新增formatter.html/js/css独立选项页面，支持手动粘贴JSON进行格式化
- **配置更新**: 在manifest.json中添加options_page配置
- **用户指南**: 更新USER_GUIDE.md，新增"手动粘贴格式化"使用说明章节

### 🐛 问题修复
- **缩进格式化**: 修正数组和对象结尾括号的缩进显示问题
- **构建配置**: 更新build.sh支持新的图标文件格式和选项页面文件

### 📚 文档完善
- **项目文档**: 更新AGENTS.md、BUILD_README.md等项目文档
- **更新日志**: 在README.md中添加2025-12-19更新日志部分
- **构建说明**: 构建脚本支持新的选项页面文件

---

## [v1.1.0] - 2025-12-18

### 🛠️ 构建系统
- **自动化构建**: 添加build.sh自动化扩展打包脚本
- **项目结构**: 完善构建流程文档和版本控制配置

### 📖 用户文档
- **用户指南**: 添加comprehensive USER_GUIDE.md用户指南
- **构建说明**: 添加BUILD_README.md构建过程文档
- **版本控制**: 添加.gitignore排除构建产物

### ⚡ 性能优化
- **闪屏减少**: 修复原始JSON闪屏问题和对齐折叠切换按钮
- **渲染优化**: 改为content script直接渲染，移除background/Prism依赖

---

## [v1.0.0] - 2025-05-07

### 🎉 初始版本
- **基础功能**: 添加README.md和项目初始结构
- **核心功能**: 实现JSON自动检测和格式化功能
- **基本特性**: 
  - 自动检测 raw JSON 页面
  - 2空格缩进格式化
  - 轻量语法高亮
  - 折叠/展开功能
  - 行号显示
  - 一键复制功能

---

## 主要功能演进

### 核心功能
- ✅ **自动格式化**: JSON自动检测和美化显示
- ✅ **交互功能**: 折叠/展开、行号、一键复制
- ✅ **性能优化**: 大JSON处理和闪屏减少

### 用户体验
- ✅ **独立选项页面**: 手动粘贴格式化功能
- ✅ **缩进引导**: JSON结构可视化
- ✅ **图标系统**: 多尺寸图标支持

### 开发工具
- ✅ **自动化构建**: build.sh脚本
- ✅ **CI/CD**: GitHub持续集成
- ✅ **文档完善**: 用户指南和构建说明

### 技术架构
- ✅ **Manifest V3**: 迁移到Chrome Extension Manifest V3
- ✅ **Content Script**: 使用content script直接渲染
- ✅ **Shadow DOM**: 避免样式污染，CSP友好
- ✅ **Service Worker**: 支持background service worker

---

## 版本历史统计

| 版本 | 发布日期 | 主要特性 | 提交数 |
|------|----------|----------|---------|
| v1.3.0 | 2025-12-22 | 构建优化 + 大文件处理 | 3 |
| v1.2.0 | 2025-12-19 | 选项页面 + 图标重构 | 9 |
| v1.1.0 | 2025-12-18 | 构建系统 + 性能优化 | 4 |
| v1.0.0 | 2025-05-07 | 初始版本 | 2 |

---

## 升级指南

### 从 v1.2.x 升级到 v1.3.0
- 无需特殊操作
- 享受改进的构建流程和大文件处理体验

### 从 v1.1.x 升级到 v1.2.0
- 新增选项页面功能可在扩展详情页访问
- 图标显示更加清晰
- 缩进引导提供更好的可读性

### 从 v1.0.x 升级到 v1.1.0
- 性能显著提升，闪屏问题解决
- 新增用户指南和构建文档
- 自动化构建流程

---

## 致谢

感谢所有为项目贡献代码、报告问题和完善文档的开发者们！

---

*本更新日志遵循 [Keep a Changelog](https://keepachangelog.com/) 格式*